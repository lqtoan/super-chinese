<ng-container *ngIf="(vm$ | async) as vm">
  <div class="top">
    <button nz-button
            class="create-button"
            (click)="onCreate()"><span nz-icon
            nzType="plus"
            nzTheme="outline"></span>{{ 'ACTION.CREATE' | translate }}</button>
    <nz-input-group class="search-input"
                    [nzSuffix]="switch">
      <input *ngIf="vm.isChineseVietnameseSearch"
             nz-input
             [placeholder]="'ACTION.LOOK_UP.CHI_VIE' | translate"
             (keydown.enter)="onSearch($event)" />
      <input *ngIf="!vm.isChineseVietnameseSearch"
             nz-input
             [placeholder]="'ACTION.LOOK_UP.VIE_CHI' | translate"
             (keydown.enter)="onSearch($event)" />
    </nz-input-group>
    <ng-template #switch>
      <nz-switch [ngModel]="vm.isChineseVietnameseSearch"
                 (ngModelChange)="onChange($event)"></nz-switch>
    </ng-template>
    <strong class="totals"><i>{{ 'TOTALS' | translate: { totals: vm.total } }}</i></strong>
  </div>
  <ng-container *ngIf="vm.isLoading; else wordListTemplate">
    <div style="display: flex; justify-content: center; margin-top: 2rem;">
      <nz-spin nzSimple
               [nzSize]="'large'"></nz-spin>
    </div>
  </ng-container>
  <ng-template #wordListTemplate>
    <ul class="wordList">
      <li *ngFor="let word of vm.words"
          class="word">
        <span class="word--name">{{ word.display }}</span>
        <div class="wrap">
          <span class="word--pinyin">{{ word.pinyin }}</span>
          <span class="word--define">{{ word.define | translate }}</span>
        </div>
      </li>
    </ul>
  </ng-template>
</ng-container>

<app-dictionary-form></app-dictionary-form>