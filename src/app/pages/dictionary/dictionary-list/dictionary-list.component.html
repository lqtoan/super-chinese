<ng-container *ngIf="(vm$ | async) as vm">
  <app-table [records]="vm.words"
             [total]="vm.total"
             [isLoading]="vm.isLoading"
             [headers]="vm.headers"
             isSelectable="false"
             clientPagination="false">
    <div slot="top"
         class="top-table">
      <button nz-button
              class="create-button"
              (click)="onCreate()"><span nz-icon
              nzType="plus"
              nzTheme="outline"></span>{{ 'ACTION.CREATE' | translate }}</button>
      <nz-input-group class="search-input"
                      [nzSuffix]="suffixIconSearch">
        <input *ngIf="isChinaVietnamSearch"
               nz-input
               [placeholder]="'ACTION.LOOK_UP.CHI_VIE' | translate"
               (keydown.enter)="getVietnameseWords($event)" />
        <input *ngIf="!isChinaVietnamSearch"
               nz-input
               [placeholder]="'ACTION.LOOK_UP.VIE_CHI' | translate"
               (keydown.enter)="getChineseWords($event)" />
      </nz-input-group>
      <ng-template #suffixIconSearch>
        <nz-switch [ngModel]="isChinaVietnamSearch"
                   (ngModelChange)="isChinaVietnamSearch = $event"></nz-switch>
      </ng-template>
      <strong class="totals"><i>{{ 'TOTALS' | translate: { totals: vm.total } }}</i></strong>
    </div>
    <ng-template appTableCell="actions"
                 let-rowIndex="rowIndex"
                 let-value>
      <div class="actions">
        <span nz-icon
              nzType="edit"
              nzTheme="fill"
              (click)="onEdit(value)"></span>

        <!-- Testing delete is OK-->
        <!-- <span nz-popconfirm
              [nzPopconfirmTitle]="'CONFIRM_DELETE' | translate"
              nzOkText="OK"
              nzCancelText="Cancel"
              (nzOnConfirm)="onDelete(value)"
              (nzOnCancel)="onCancel()"
              class="delete-button"
              nz-icon
              nzType="delete"
              nzTheme="fill"></span> -->
        <!-- {{ value }} -->
      </div>
    </ng-template>

    <ng-template appTableCell="display"
                 let-rowIndex="rowIndex"
                 let-value>
      <p style="margin-top: 0.25rem; color: #bf616a; font-family: MyFont; font-size: 1rem;">{{ value }}</p>
    </ng-template>

    <ng-template appTableCell="lowercase"
                 let-rowIndex="rowIndex"
                 let-value>
      {{ value | lowercase }}
    </ng-template>

    <ng-template appTableCell="titlecase"
                 let-rowIndex="rowIndex"
                 let-value>
      {{ value | titlecase }}
    </ng-template>

    <ng-template appTableCell="hsk"
                 let-rowIndex="rowIndex"
                 let-value>
      <ng-container [ngSwitch]="value">
        <ng-container *ngSwitchCase="'hsk1'">
          <nz-tag [nzColor]="'cyan'">HSK 1</nz-tag>
        </ng-container>
        <ng-container *ngSwitchCase="'hsk2'">
          <nz-tag [nzColor]="'blue'">HSK 2</nz-tag>
        </ng-container>
        <ng-container *ngSwitchCase="'hsk3'">
          <nz-tag [nzColor]="'geekblue'">HSK 3</nz-tag>
        </ng-container>
        <ng-container *ngSwitchCase="'hsk4'">
          <nz-tag [nzColor]="'purple'">HSK 4</nz-tag>
        </ng-container>
        <ng-container *ngSwitchCase="'hsk5'">
          <nz-tag [nzColor]="'volcano'">HSK 5</nz-tag>
        </ng-container>
        <ng-container *ngSwitchCase="'hsk6'">
          <nz-tag [nzColor]="'red'">HSK 6</nz-tag>
        </ng-container>
        <ng-container *ngSwitchCase="'hsk79'">
          <nz-tag [nzColor]="'magenta'">HSK 7+</nz-tag>
        </ng-container>
        <ng-container *ngSwitchCase="'z---'">
          <nz-tag>---------</nz-tag>
        </ng-container>
      </ng-container>
    </ng-template>

    <ng-template appTableCell="date"
                 let-rowIndex="rowIndex"
                 let-value>
      <div>{{ value | date: 'hh:mm:ss dd/MM/yyyy' }}</div>
    </ng-template>

    <ng-template appTableCell="ellipsis"
                 let-rowIndex="rowIndex"
                 let-value>
      <div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ value }}</div>
    </ng-template>
  </app-table>
</ng-container>

<app-dictionary-form></app-dictionary-form>